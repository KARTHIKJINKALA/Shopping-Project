<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Cart</title>
    <style>
        /* Navbar styles */
.navbar {
    display: flex;
    justify-content: space-between;
    padding: 1rem 2rem;
    color: black;
    position: sticky;
    top: 0px;
    z-index: 1;
    background-color: white;
}

.navbar .logo h1 {
    font-size: 1.5rem;
    color: black;
}

.nav-links {
    list-style: none;
    display: flex;
    gap: 1rem;
    align-items: center;
}

.nav-links li a {
    color: black;
    text-decoration: none;
    font-size: 1rem;
}

.search-bar {
    padding: 0.3rem 0.5rem;
    border-radius: 5px;
    border: 1px solid #ddd;
}

        .card2 {
            height: auto;
            width: auto;
            border: 2px solid blue;
            border-radius: 2%;
            background: rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(8.5px);
            -webkit-backdrop-filter: blur(8.5px);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .parent1 {
            display: flex;
            flex-direction: column;
            align-items: end;
           
        }

        .card3 {
            margin-top: 6.6%;
            height: 20vh;
            width: 60vw;
            background: rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(8.5px);
            -webkit-backdrop-filter: blur(8.5px);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
        }

        .img2 {
            height: 100%;
            width: auto;
            max-width: 20%;
            border-radius: 5px;
        }

        .info {
            display: flex;
            flex-direction: row;
            justify-content: center;
            width: 60%;
        }

        .btns {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .totalbill {
            position: fixed;
            top: 20%;
            height: auto;
            width: 30vw;
            background: rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(8.5px);
            -webkit-backdrop-filter: blur(8.5px);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            padding: 20px;
            font-size: 1.5rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            row-gap: 25%;
        }

        .place {
            height: 10vh;
            background: rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            backdrop-filter: blur(8.5px);
            -webkit-backdrop-filter: blur(8.5px);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
     

        @media screen and (width<576px) {
            .navbar{
                height: 25vh;
                display: block;
                text-align: center;
            }
            .nav-links {
                flex-wrap: wrap;
                gap: 2%;
                justify-content: center;
            }
        .parent1 {
            display: flex;
            flex-direction: column


        }

        .card3 {
            margin-top: 27%;
            height: auto;
            width: 40vw;

            display: flex;
            flex-direction: column;

            justify-content: center;
            align-items: center;
            padding: 10px;
            font-size: 6px;
            text-size-adjust: auto;
        }

        .img2 {
            height: 10vh;
            width:40vw;
        }

        .totalbill{
            height: auto;
            width: 30vw;
            text-wrap: wrap;
          
            position: fixed;
            top: 40%;
        }
        .para{
            font-size: 2vh;
        }
        


    }


    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <h1>Nike Shoe Store</h1>
          
        </div>
        <h1>CART</h1>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="orders.html">Orders</a></li>
            <li><a href="whitelist.html"><img src="icons8-love-24.png" alt=""></a></li>  
            <li><a href="addtocart.html"><img src="icons8-cart-50.png" alt=""></a></li>  
        </ul>
    </nav>




    <script>
        var output = localStorage.getItem("cart");
        var disp = JSON.parse(output) || [];

        var parent1 = document.createElement("div");
        parent1.setAttribute("class", "parent1");
        document.body.appendChild(parent1);

        var totalbill = document.createElement("div");
        totalbill.setAttribute("class", "totalbill");
        totalbill.innerHTML = "Total Bill: ₹0";
        document.body.appendChild(totalbill);

        var place = document.createElement("button");
        place.innerHTML = "Place Order";
        place.setAttribute("class", "place");
        totalbill.appendChild(place);

        var para = document.createElement("p");
        para.style.color = "lightseagreen";
        totalbill.appendChild(para);

        let totalAmount = 0;

        function updateTotalBill() {
            totalbill.innerHTML = "Total Bill: ₹" + totalAmount;
            totalbill.appendChild(place);
            totalbill.appendChild(para);
        }

        disp.map(function(val) {
            var card3 = document.createElement("div");
            card3.setAttribute("class", "card3");
            parent1.appendChild(card3);

            var img2 = document.createElement("img");
            img2.src = val.image;
            img2.setAttribute("class", "img2");
            card3.appendChild(img2);

            var info = document.createElement("div");
            info.setAttribute("class", "info");
            card3.appendChild(info);

            var model1 = document.createElement("h4");
            model1.innerHTML = val.model + "-";
            info.appendChild(model1);

            var price1 = document.createElement("h4");
            price1.innerHTML = "Price: " + val.price;
            price1.style.color = "red";
            info.appendChild(price1);

            var btns = document.createElement("div");
            btns.setAttribute("class", "btns");
            card3.appendChild(btns);

            var minus = document.createElement("button");
            minus.innerHTML = "-";
            btns.appendChild(minus);

            var countDisplay = document.createElement("button");
            countDisplay.innerHTML = "0";
            btns.appendChild(countDisplay);

            var plus = document.createElement("button");
            plus.innerHTML = "+";
            btns.appendChild(plus);

            var count = 0;

            plus.addEventListener("click", () => {
                count++;
                countDisplay.innerHTML = count;

                let numericValue = Number(val.price.replace(/[^0-9]/g, ''));
                totalAmount += numericValue;
                updateTotalBill();

                // Update the count in the cart data
                val.count = count;
                localStorage.setItem("cart", JSON.stringify(disp));
            });

            minus.addEventListener("click", () => {
                if (count > 0) {
                    count--;
                    countDisplay.innerHTML = count;

                    let numericValue = Number(val.price.replace(/[^0-9]/g, ''));
                    totalAmount -= numericValue;
                    updateTotalBill();

                    // Update the count in the cart data
                    val.count = count;
                    localStorage.setItem("cart", JSON.stringify(disp));
                }
            });
        });

        place.addEventListener("click", () => {
            para.innerHTML = "Order placed successfully!";
            setTimeout(() => {
                para.innerHTML = "";  
                totalAmount = 0;
            }, 3000);
        });
    </script>
</body>
</html>
